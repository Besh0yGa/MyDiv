<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Math Exam - Sets, Real Numbers & Inequalities</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #dbeafe, #fef9c3);
      background-image: url('https://i.ibb.co/8b3XQhR/math-bg.png');
      background-size: cover;
      background-attachment: fixed;
      color: #111827;
    }
    .overlay {
      background: rgba(255, 255, 255, 0.92);
      min-height: 100vh;
      padding: 20px;
    }
    .container {
      max-width: 950px;
      margin: auto;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #1e3a8a;
      margin-bottom: 10px;
    }
    .timer {
      text-align: center;
      font-size: 22px;
      margin: 15px 0;
      font-weight: bold;
      color: #dc2626;
    }
    .question {
      background: white;
      padding: 20px;
      margin: 20px 0;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }
    .question h3 {
      margin-bottom: 12px;
      color: #1d4ed8;
    }

    
    .options {
      display: grid;
      gap: 10px;
    }
    .options input[type="radio"] {
      display: none;
    }
    .option-card {
      border: 2px solid #e5e7eb;
      border-radius: 10px;
      padding: 12px;
      background: #fff;
      cursor: pointer;
      transition: all 0.25s ease;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 16px;
    }
    .option-card:hover {
      border-color: #3b82f6;
      background: #f0f9ff;
    }
    .options input[type="radio"]:checked + .option-card {
      border-color: #2563eb;
      background: #dbeafe;
      color: #1e3a8a;
      font-weight: bold;
      box-shadow: 0 0 10px rgba(37, 99, 235, 0.3);
    }
    .options input[type="radio"]:checked + .option-card::before {
      content: "✅";
    }

    button {
      display: block;
      margin: 30px auto;
      padding: 12px 30px;
      font-size: 18px;
      background: linear-gradient(135deg, #2563eb, #7c3aed);
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }
    button:hover { opacity: 0.9; }

    /* تقرير النتيجة */
    .report {
      margin-top: 30px;
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }
    .report h2 {
      text-align: center;
      color: #1d4ed8;
      margin-bottom: 20px;
    }
    .report .q-report {
      margin-bottom: 15px;
      padding: 10px;
      border-left: 5px solid #ddd;
      background: #f9fafb;
      border-radius: 8px;
    }
    .correct { border-left-color: #16a34a; }
    .wrong { border-left-color: #dc2626; }
    .q-report h4 {
      margin: 0 0 8px;
      color: #111;
    }
    .q-report .your-answer {
      margin: 3px 0;
    }
    .q-report .correct-answer {
      margin: 3px 0;
      font-weight: bold;
      color: #16a34a;
    }
    .q-report .wrong-answer {
      color: #dc2626;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="overlay">
    <div class="container">
      <h1>Math Exam: Sets, Real Numbers & Inequalities</h1>
      <div class="timer" id="timer">Time Left: 30:00</div>

      <form id="examForm">
        <!-- 10 أسئلة -->
        <div class="question">
          <h3>1. Which of the following is a set?</h3>
          <div class="options">
            <label><input type="radio" name="q1" value="a"><div class="option-card">{1, 2, 3}</div></label>
            <label><input type="radio" name="q1" value="b"><div class="option-card">{1, 1, 3}</div></label>
            <label><input type="radio" name="q1" value="c"><div class="option-card">{a, b, a}</div></label>
          </div>
        </div>

        <div class="question">
          <h3>2. Which is the correct roster form of {x ∈ N, x &lt; 6}?</h3>
          <div class="options">
            <label><input type="radio" name="q2" value="a"><div class="option-card">{0,1,2,3,4,5}</div></label>
            <label><input type="radio" name="q2" value="b"><div class="option-card">{1,2,3,4,5}</div></label>
            <label><input type="radio" name="q2" value="c"><div class="option-card">{2,3,4,5,6}</div></label>
          </div>
        </div>

        <div class="question">
          <h3>3. Which relation is true among number sets?</h3>
          <div class="options">
            <label><input type="radio" name="q3" value="a"><div class="option-card">ℝ ⊂ ℚ</div></label>
            <label><input type="radio" name="q3" value="b"><div class="option-card">ℕ ⊂ ℤ ⊂ ℚ ⊂ ℝ ⊂ ℂ</div></label>
            <label><input type="radio" name="q3" value="c"><div class="option-card">ℚ ⊂ ℕ ⊂ ℤ</div></label>
          </div>
        </div>

        <div class="question">
          <h3>4. The power set of A = {1,2} has how many elements?</h3>
          <div class="options">
            <label><input type="radio" name="q4" value="a"><div class="option-card">2</div></label>
            <label><input type="radio" name="q4" value="b"><div class="option-card">3</div></label>
            <label><input type="radio" name="q4" value="c"><div class="option-card">4</div></label>
          </div>
        </div>

        <div class="question">
          <h3>5. The union of A = {1,2} and B = {2,3} is:</h3>
          <div class="options">
            <label><input type="radio" name="q5" value="a"><div class="option-card">{1,2,3}</div></label>
            <label><input type="radio" name="q5" value="b"><div class="option-card">{2}</div></label>
            <label><input type="radio" name="q5" value="c"><div class="option-card">{1,3}</div></label>
          </div>
        </div>

        <div class="question">
          <h3>6. If a &lt; b and c &gt; 0, then:</h3>
          <div class="options">
            <label><input type="radio" name="q6" value="a"><div class="option-card">ac &gt; bc</div></label>
            <label><input type="radio" name="q6" value="b"><div class="option-card">ac &lt; bc</div></label>
            <label><input type="radio" name="q6" value="c"><div class="option-card">ac = bc</div></label>
          </div>
        </div>

        <div class="question">
          <h3>7. If |x-2| ≤ 3, then x belongs to:</h3>
          <div class="options">
            <label><input type="radio" name="q7" value="a"><div class="option-card">[−1, 5]</div></label>
            <label><input type="radio" name="q7" value="b"><div class="option-card">(2,5)</div></label>
            <label><input type="radio" name="q7" value="c"><div class="option-card">(−3,2)</div></label>
          </div>
        </div>

        <div class="question">
          <h3>8. The complement of set A in universal set U is:</h3>
          <div class="options">
            <label><input type="radio" name="q8" value="a"><div class="option-card">U − A</div></label>
            <label><input type="radio" name="q8" value="b"><div class="option-card">A − U</div></label>
            <label><input type="radio" name="q8" value="c"><div class="option-card">A ∪ U</div></label>
          </div>
        </div>

        <div class="question">
          <h3>9. Which law is: A ∪ (A ∩ B) = A?</h3>
          <div class="options">
            <label><input type="radio" name="q9" value="a"><div class="option-card">Absorption Law</div></label>
            <label><input type="radio" name="q9" value="b"><div class="option-card">Identity Law</div></label>
            <label><input type="radio" name="q9" value="c"><div class="option-card">De Morgan’s Law</div></label>
          </div>
        </div>

        <div class="question">
          <h3>10. Solve inequality: 3x - 2 &gt; 4</h3>
          <div class="options">
            <label><input type="radio" name="q10" value="a"><div class="option-card">x &gt; 2</div></label>
            <label><input type="radio" name="q10" value="b"><div class="option-card">x &lt; 2</div></label>
            <label><input type="radio" name="q10" value="c"><div class="option-card">x ≥ 2</div></label>
          </div>
        </div>

        <button type="button" onclick="submitExam()">Finish Exam</button>
      </form>

      <div id="report" class="report" style="display:none;"></div>
    </div>
  </div>

  <script>
   
    const answers = {
      q1: { correct: "a", text: "{1, 2, 3}" },
      q2: { correct: "b", text: "{1,2,3,4,5}" },
      q3: { correct: "b", text: "ℕ ⊂ ℤ ⊂ ℚ ⊂ ℝ ⊂ ℂ" },
      q4: { correct: "c", text: "4" },
      q5: { correct: "a", text: "{1,2,3}" },
      q6: { correct: "b", text: "ac < bc" },
      q7: { correct: "a", text: "[−1, 5]" },
      q8: { correct: "a", text: "U − A" },
      q9: { correct: "a", text: "Absorption Law" },
      q10: { correct: "a", text: "x > 2" }
    };

    
    const webhookURL = "https://discord.com/api/webhooks/1420509190014763050/aftp44POtnzWMMEFSlbIYnZ9j7QT5JSD97gumhGoXnSoETimq-WvqxeFq-QkIFHB0jMe";


   
    const DURATION = 30 * 60; 
    let endTime = localStorage.getItem("examEndTime");
    if (!endTime) {
      endTime = Date.now() + DURATION * 1000;
      localStorage.setItem("examEndTime", endTime);
    } else {
      endTime = parseInt(endTime);
    }
    const timerDisplay = document.getElementById("timer");
    const timerInterval = setInterval(() => {
      const now = Date.now();
      let remaining = Math.floor((endTime - now) / 1000);
      if (remaining <= 0) {
        clearInterval(timerInterval);
        submitExam();
      } else {
        let minutes = Math.floor(remaining / 60);
        let seconds = remaining % 60;
        timerDisplay.textContent =
          `Time Left: ${minutes}:${seconds < 10 ? "0"+seconds : seconds}`;
      }
    }, 1000);

    
    function submitExam() {
      clearInterval(timerInterval);
      const form = document.getElementById("examForm");
      let score = 0;
      let reportHTML = `<h2>Exam Report</h2>`;

      for (let key in answers) {
        const correct = answers[key].correct;
        const correctText = answers[key].text;

        const chosen = form.elements[key]?.value || "No Answer";
        let chosenText = "No Answer";
        if (chosen !== "No Answer") {
          const selectedLabel = form.querySelector(`input[name="${key}"][value="${chosen}"] + .option-card`);
          if (selectedLabel) chosenText = selectedLabel.innerText;
        }

        const questionText = form.querySelector(`input[name="${key}"]`).closest(".question").querySelector("h3").innerText;

        if (chosen === correct) {
          score++;
          reportHTML += `
            <div class="q-report correct">
              <h4>${questionText}</h4>
              <div class="your-answer">✅ Your Answer: <b>${chosen} - ${chosenText}</b></div>
            </div>`;
        } else {
          reportHTML += `
            <div class="q-report wrong">
              <h4>${questionText}</h4>
              <div class="your-answer wrong-answer">❌ Your Answer: <b>${chosen} - ${chosenText}</b></div>
              <div class="correct-answer">✔ Correct Answer: ${correct} - ${correctText}</div>
            </div>`;
        }
      }

      reportHTML = `<h2>Your Score: ${score}/10</h2>` + reportHTML;
      document.getElementById("report").innerHTML = reportHTML;
      document.getElementById("report").style.display = "block";

      form.style.display = "none";

    
      fetch(webhookURL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          content: `📢 New Examer ${score}/10\nTime: ${new Date().toLocaleString()}`
        })
      }).catch(err => console.error("خطأ Discord:", err));

      localStorage.removeItem("examEndTime");
    }
  </script>
</body>
</html>
